var subtitle_url="http://eduhulla.starplayer.kr/scms/cc.asp";function initScriptUI(H){var P=false;var M=false;var Y;$(".starplayer_script_ui a").click(function(a){a.preventDefault()});$(".starplayer_script_ui").each(function(){this.onselectstart=function(){return false};this.unselectable="on";jQuery(this).css("user-select","none");jQuery(this).css("-o-user-select","none");jQuery(this).css("-moz-user-select","none");jQuery(this).css("-khtml-user-select","none");jQuery(this).css("-webkit-user-select","none")});$(".btn_play").click(F);$(".btn_pause").click(function(){H.pause()});$(".btn_stop").click(function(){H.stop()});$(".btn_backward").click(function(){S("back")});$(".btn_forward").click(function(){S("front")});$(".btn_repeat").click(function(){T()});$(".btn_fullscreen").click(function(){L()});$(".btn_mute").click(function(){I()});$(".btn_speed06").click(function(){ac(0.6)});$(".btn_speed08").click(function(){ac(0.8)});$(".btn_speed10").click(function(){ac(1)});$(".btn_speed12").click(function(){ac(1.2)});$(".btn_speed14").click(function(){ac(1.4)});$(".btn_speed16").click(function(){ac(1.6)});$(".btn_speed18").click(function(){ac(1.8)});$(".btn_speed20").click(function(){ac(2)});$("input").keyup(function(){setStep(parseInt(this.value))});$("input").keydown(function(a){onKeyDown(a)});function S(b){var a=$(".skiptime").val();if((!a)||(a==0)){$(".skiptime").val(H.getStep())}if(b=="back"){H.backward(getStep())}else{if(b=="front"){H.forward(getStep())}}}function X(a){return a.originalEvent.changedTouches?a.originalEvent.changedTouches[0].pageX:a.pageX}$(".seekbar_l").bind("mousedown touchstart",function(b){var a=$(this);function d(g){var h=X(g)-a.offset().left;var f=(h/a.width())*H.getDuration();if(f<0){f=0}if(f>H.getDuration()){f=H.getDuration()}return f}function c(g){var f=d(g);V(f);g.preventDefault()}function e(g){P=false;var f=H.getCurrentPosition();H.setCurrentPosition(d(g));$(document).unbind("mousemove touchmove",c);a.unbind("mousemove touchmove",c);$(document).unbind("mouseup touchend",e)}P=true;V(d(b));$(document).bind("mousemove touchmove",c);a.bind("mousemove touchmove",c);$(document).bind("mouseup touchend",e);b.preventDefault()});$(".btn_repeatA").bind("mousedown touchstart",function(c){var b=$(this).parent();function e(g){var h=X(g)-b.offset().left-7;var i=(h/b.width())*H.getDuration();if(i<0){i=0}else{if(i>H.getRepeatEndTime()){i=H.getRepeatEndTime()}}return i}function a(i){var h=(i/H.getDuration())*100+"%";var g=((H.getRepeatEndTime()-i)/H.getDuration()*100)+"%";$(".btn_repeatA").css("left",h);$(".repeatbar").css("left",h).css("width",g);$("#text_currentTime").text(N(i))}function d(g){a(e(g));g.preventDefault()}function f(g){M=false;H.setRepeatStartTime(e(g));$(document).unbind("mousemove touchmove",d);b.unbind("mousemove touchmove",d);$(document).unbind("mouseup touchend",f)}M=true;a(e(c));$(document).bind("mousemove touchmove",d);b.bind("mousemove touchmove",d);$(document).bind("mouseup touchend",f);c.preventDefault();c.stopPropagation()});$(".btn_repeatB").bind("mousedown touchstart",function(c){var b=$(this).parent();function e(g){var h=X(g)-b.offset().left-7;var i=(h/b.width())*H.getDuration();if(i<H.getRepeatStartTime()){i=H.getRepeatStartTime()}else{if(i>H.getDuration()){i=H.getDuration()}}return i}function a(g){var i=(g/H.getDuration())*100+"%";var h=((g-H.getRepeatStartTime())/H.getDuration()*100)+"%";$(".btn_repeatB").css("left",i);$(".repeatbar").css("width",h);$("#text_currentTime").text(N(g))}function d(g){a(e(g));g.preventDefault()}function f(g){M=false;H.setRepeatEndTime(e(g));$(document).unbind("mousemove touchmove",d);b.unbind("mousemove touchmove",d);$(document).unbind("mouseup touchend",f)}M=true;a(e(c));$(document).bind("mousemove touchmove",d);b.bind("mousemove touchmove",d);$(document).bind("mouseup touchend",f);c.preventDefault();c.stopPropagation()});$(".volumebar").bind("mousedown touchstart",function(b){var a=$(this);function c(f){var h=X(f)-a.offset().left;var g=h/a.width();if(g<0){g=0}else{if(g>1){g=1}}return g}function d(f){var g=c(f);H.setVolume(g);f.preventDefault()}function e(f){H.setVolume(c(f));$(document).unbind("mousemove touchmove",d);a.unbind("mousemove touchmove",d);$(document).unbind("mouseup touchend",e)}H.setVolume(c(b));$(document).bind("mousemove touchmove",d);a.bind("mousemove touchmove",d);$(document).bind("mouseup touchend",e);b.preventDefault()});H.bindEvent("open_state_change",E);H.bindEvent("play_state_change",U);H.bindEvent("rate_change",Q);H.bindEvent("repeat_change",ah);H.bindEvent("volume_change",R);H.bindEvent("repeat_range_change",aa);H.bindEvent("position_change",af);function af(a){$("#subtitle").text("")}var W;var ad;function K(a){var b="";HTMLParser(a,{start:function(e,c,d){},end:function(c){},chars:function(c){b+=c.replace("&nbsp;"," ")},comment:function(c){}});return b}function ab(b){if(typeof ad=="undefined"){return}var a=parseInt(b/100,10)*100;var c=ad.get(a);if(typeof c!="undefined"){return K(c)}return""}this.setLanguageChange=function(a){if(typeof W!="undefined"){$("#subtitle").text("");ad=W.getLanguage(a)}};function Z(a){W=new Smi();var b=subtitle_url+"?smi=";b+=encodeURIComponent(a);$.ajax({url:b,dataType:"jsonp",success:function(c){var d=decodeURIComponent(c);if(W.parse(d)==false){return}var e=W.getLangCount();if(e<1){return}var f=W.getLangNames();_self.setLanguageChange(f[0])},error:function(c){}})}function E(a){switch(a){case OpenState.OPENING:break;case OpenState.OPENED:ae(H.getDuration());var b=H.getSubtitleUrl();if(b){Z(b)}Y=setInterval(J,10);break;case OpenState.CLOSED:ae(0);break}O(ag(a))}function U(a){switch(a){case PlayState.PLAYING:$(".btn_play").removeClass("btn_play").addClass("btn_pause");break;case PlayState.PAUSED:$(".btn_pause").removeClass("btn_pause").addClass("btn_play");break;case PlayState.STOPPED:$(".btn_pause").removeClass("btn_pause").addClass("btn_play");break;case PlayState.BUFFERING_STARTED:break}O(G(a))}function O(a){$(".control_text_status").text(a)}function Q(a){$(".btn_common").removeClass("active");var c=Math.ceil(parseInt(a*10));c/=10;var b;switch(c){case 0.6:b=$(".btn_speed06");break;case 0.8:b=$(".btn_speed08");break;case 1:b=$(".btn_speed10");break;case 1.2:b=$(".btn_speed12");break;case 1.3:b=$(".btn_speed14");break;case 1.4:b=$(".btn_speed14");break;case 1.6:b=$(".btn_speed16");break;case 1.7:b=$(".btn_speed18");break;case 1.8:b=$(".btn_speed18");break;case 2:b=$(".btn_speed20");break}b.addClass("active")}function ah(a){if(a){$(".btn_repeat").addClass("active");$(".btn_repeatA").css("left","0%").show();$(".btn_repeatB").css("left","100%").show()}else{$(".btn_repeat").removeClass("active");$(".btn_repeatA").hide();$(".btn_repeatB").hide()}}function R(a,b){if(b){$(".btn_mute").addClass("active")}else{$(".btn_mute").removeClass("active")}$(".btn_volume").css("left",a*100+"%");$(".current_volumebar").css("width",a*100+"%")}function aa(a,d){if(H.getRepeat()){$(".btn_repeat").addClass("active");var e=(a/H.getDuration()*100)+"%";var b=(d/H.getDuration()*100)+"%";var c=((d-a)/H.getDuration()*100)+"%";$(".btn_repeatA").css("left",e).show();$(".btn_repeatB").css("left",b).show();$(".repeatbar").css("left",e).css("width",c).show()}else{$("btn_repeat").removeClass("active");$(".btn_repeatA").hide();$(".btn_repeatB").hide();$(".repeatbar").hide()}}function J(){var b=H.getCurrentPosition();if(!P){V(b)}if(typeof ad!="undefined"){var a=ab(b*1000);if(a!=""){$("#subtitle").text(a)}}}function V(b){var c=H.getDuration();var a=(c>0?(b/c)*100:0)+"%";$(".btn_seek").css("left",a);$(".currentbar").css("width",a);if(!M){$("#text_currentTime").text(N(b))}}function ae(a){$("#text_duration").text(N(a))}function F(){if(H.getPlayState()==PlayState.PLAYING){H.pause()}else{H.play()}}function T(){var a=H.getRepeat();H.setRepeat(!a)}function L(){if(H.getPlayState()==PlayState.PLAYING||H.getPlayState()==PlayState.PAUSED){var a=H.getFullscreen();H.setFullscreen(!a)}else{H.setFullscreen(false)}}function I(){var a=H.getMute();H.setMute(!a)}function ac(a){H.setRate(a)}function N(a){if(!a){a=0}var c=parseInt(a)%60;var e=parseInt(a/60)%60;var d=parseInt(a/60/60);function b(f){if(f<10){return"0"+f}else{return f}}return[b(d),b(e),b(c)].join(":")}function ag(a){switch(a){case OpenState.CLOSED:return"닫힘";case OpenState.OPENING:return"여는 중";case OpenState.OPENED:return"열림";case OpenState.CLOSING:return"닫는 중"}}function G(a){switch(a){case PlayState.STOPPED:return"정지";case PlayState.PLAYING:return"재생 중";case PlayState.PAUSED:return"일시정지";case PlayState.BUFFERING_STARTED:return"버퍼링";case PlayState.COMPLETE:return"재생완료"}}};